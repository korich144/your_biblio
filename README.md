# Инструкция по развертыванию проекта "Твой каталог" в OpenServer 5.3.8

## Требования
- OpenServer 5.3.8 (скачать с [официального сайта](https://ospanel.io/))
- PostgreSQL 9.5+ (входит в состав OpenServer)
- Apache_2.4 (входит в состав OpenServer)
- PHP 8.0 (входит в состав OpenServer)

## Установка и настройка

### 1. Установка OpenServer
1. Скачайте OpenServer 5.3.8 с официального сайта
2. Установите программу, следуя инструкциям установщика
3. Запустите OpenServer (иконка появится в системном трее)

### 2. Подготовка проекта
1. Создайте папку для проекта в директории OpenServer:
   ```
   OpenServer/domains/bookcatalog/
   ```
2. Скопируйте все файлы проекта в эту папку

### 3. Настройка базы данных
1. В трее Windows кликните по иконке OpenServer
2. Выберите "Дополнительно" → "PhpPgAdmin"
3. Авторизуйтесь с данными по умолчанию:
   - Сервер: localhost
   - Пользователь: postgres
   - Пароль: (оставьте пустым)

4. Создайте новую базу данных:
   - Нажмите "Создать базу данных"
   - Имя: `bookcatalog`
   - Владелец: `postgres`
   - Нажмите "Создать"

5. Импортируйте структуру базы данных:
   - Выберите созданную базу `bookcatalog`
   - Перейдите на вкладку "SQL"
   - Скопируйте содержимое файла `base.sql`
   - Вставьте в текстовое поле и нажмите "Выполнить"

### 4. Настройка подключения к БД
Откройте файл `api/config.php` и настройте параметры подключения:

```php
define('DB_HOST', 'localhost');
define('DB_PORT', '5432');
define('DB_NAME', 'bookcatalog');
define('DB_USER', 'postgres');
define('DB_PASSWORD', ''); // Пароль, если вы его устанавливали
```

### 5. Создание необходимых папок
В корне проекта создайте папки:
```
uploads/
uploads/avatars/
uploads/covers/
```

### 6. Настройка веб-сервера
1. В трее Windows кликните по иконке OpenServer
2. Выберите "Настройки"
3. Перейдите на вкладку "Модули"
4. Выберите:
   - Веб-сервер: Apache
   - PHP: версию 7.4 или выше
5. Перейдите на вкладку "Серверы"
6. В разделе "Алиасы" добавьте:
   - Алиас: `bookcatalog`
   - Папка: `.\domains\bookcatalog\`
7. Нажмите "Сохранить"

### 7. Запуск проекта
1. Перезапустите OpenServer
2. В браузере перейдите по адресу: http://bookcatalog/

## Возможные проблемы и решения

### Ошибки в работе "PhpPgAdmin"
В некоторых случаях он может работать некорректно из пакета OpenServer.
Для подключения и настройки базы данных есть 2 наиболее оптимальных способа:
- PHP Adminer (Входит в пакет OpenServer)
- PGAdmin4 (Нужно скачать с официального сайта)
1. **PHP Adminer:**
   - Запустите OpenServer
   - Нажмите на значок в трее
   - Нажмите Дополнительно -> PHP Adminer (Он появится, если вы его не убрали при установке)
   - Выберите движок PostgreSQL в открывшемся сайте
   - Введите данные для входа
2. **PGAdmin:**
   - Скачайте программу с [официального сайта](https://www.pgadmin.org/download/) и установите
   - Откройте программу
   - Нажмите "Добавить сервер"
   - Введите данные для входа

### Ошибки подключения к базе данных
- Проверьте правильность параметров в `config.php`
- Убедитесь, что база данных `bookcatalog` существует
- Проверьте, запущен ли сервер PostgreSQL в OpenServer

### Проблемы с загрузкой файлов
- Убедитесь, что папки `uploads/avatars/` и `uploads/covers/` существуют
- Проверьте права на запись для этих папок

### Ошибки в работе сайта
1. Включите отображение ошибок PHP:
   В файле `api/config.php` добавьте в начало:
   ```php
   ini_set('display_errors', 1);
   ini_set('display_startup_errors', 1);
   error_reporting(E_ALL);
   ```
2. Проверьте логи ошибок в OpenServer:
   - Иконка OpenServer → "Журналы"
